#: kivy 1.0.9
#: import const constants

<EditButton@Button>:
    size_hint: 0.05, .5

<Menu@BoxLayout>:
    canvas.before:
        Color:
            rgba: .5, .5, .5, 1
        Rectangle:
            pos: self.pos
            size: self.size
    size_hint: 1, 0.1


<ScrollLabel@ScrollView>
    text: ""

    Label:
        size_hint_y: None
        height: self.texture_size[1]
        text_size: self.width, None
        text: root.text


<GameWindow>:

    View:
        id: view_screen

    ScrollLabel:
        id: console
        color: 1, .25, .25, 1
        valign: "top"
        size_hint: 1, 0.9
        pos_hint: {"top": 1}

    Menu:
        id: menu
        EditButton:
            text: "Erase"
            on_press: root.mode = const.EDIT_MODE_ERASE
        EditButton:
            text: "Wall"
            on_press: root.mode = const.EDIT_MODE_WALL
        EditButton:
            text: "Floor"
            on_press: root.mode = const.EDIT_MODE_FLOOR
        EditButton:
            text: "Monster"
            on_press: root.mode = const.EDIT_MODE_MONSTER
        EditButton:
            text: "Player"
            on_press: root.mode = const.EDIT_MODE_PLAYER
        EditButton:
            text: "Select"
            on_press: root.mode = const.EDIT_MODE_SELECT
        EditButton:
            text: "Root-Data"
            on_press: print(root.world)
        EditButton:
            text: "Load"
            on_press: app.world.load()
        EditButton:
            text: "Save"
            on_press: app.world.save()
        EditButton:
            text: "Clear"
            on_press: app.world.clear()
        EditButton:
            text: "Clear Text"
            on_press: app.world.console.clear()

